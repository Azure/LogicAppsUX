import { Meta } from '@storybook/addon-docs';

<Meta title="Docs/Data Mapper/Overview" />

# Data Mapper (VS Code / Portal) - Overview

## Purpose

To provide a graphical way to map data from a source schema to a target schema using direct mappings and functions, handling any translation between supported schema types in the backend

## Data Flow

From a fresh start, the data we handle translates/transforms in the following flow:

1. .xsd (XML) Schemas
2. Backend - getSchemaTree (takes any supported schema format and returns it as JSON)
3. Internal state management of schema/schemaExtended
4. onSave - data map definition saved as .yml, and .xslt generated by backend and saved

## Backend

### API

#### Schema Translation - GET schemaTree

Translates any supported schema format into JSON consumed by the Data Mapper frontend

Endpoint: http://{localhost:7071}/runtime/webhooks/workflow/api/management/schemas/CBRSourceSchema/contents/schemaTree?api-version=2019-10-01-edge-preview

#### Data Map XSLT generation - POST generateXslt

Formats a data map with all of its connections into the XSLT (.xslt) Formats

Endpoint: http://{localhost:7071}/runtime/webhooks/workflow/api/management/generateXslt

#### Test Mappings/Connections - POST testMap

Tests data map and its connections to ensure that a specified input schema value produces the expected output schema value

Endpoint: http://{localhost:7071}/runtime/webhooks/workflow/api/management/maps/{mapXsltFilename}/testMap
