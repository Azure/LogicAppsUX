{
  "srcSchemaName": "SrcOrders.xsd",
  "dstSchemaName": "CustomerOrders.xsd",
  "mappings": {
    "targetNodeKey": "ns0:CustomerOrders",
    "children": [
      {
        "targetNodeKey": "$@OrderedItem",
        "targetValue": {
          "value": "/ns0:Orders/@Item"
        }
      },
      {
        "targetNodeKey": "Customer",
        "children": [
          {
            "targetNodeKey": "$@Name",
            "targetValue": {
              "value": "upper-case(CustomerName)"
            },
            "condition": {
              "condition": "not_equals(CustomerName, '')"
            }
          },
          {
            "targetNodeKey": "$@OrderNumber",
            "targetValue": {
              "value": "OrderNumber"
            }
          },
          {
            "targetNodeKey": "$@OrderValue",
            "targetValue": {
              "value": "OrderValue"
            }
          },
          {
            "targetNodeKey": "ShippingAddress",
            "children": [
              {
                "targetNodeKey": "Line1",
                "targetValue": {
                  "value": "concat(upper-case(CustomerName), ' ', Address/Addr1)"
                }
              },
              {
                "targetNodeKey": "Line2",
                "targetValue": {
                  "value": "Address/Addr2"
                }
              }
            ]
          }
        ],
        "loopSource": {
          "loopSource": "/ns0:Orders/WebOrders"
        }
      }
    ]
  }
}
